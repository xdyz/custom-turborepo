### 简介

#### 程序

是为了完成某种任务，用某语言编写成的一组指令的集合，是一段静态的代码


#### 进程 process

是程序的一次执行过程。
正在运行的一个程序，进程作为资源分配的单位，在内存中会为每个进程分配不同的内存区域。
一个动的执行过程（进程是动态的）。
进程有自己的产生、存在、消亡的整个生命过程。


#### 线程 thread

进程可进一步细分为线程，一个进程内可以有多个线程。
若一个进程内，同时执行多个线程，则称这些线程是并行的
一个线程下，可以有多个协程，协程之间交换执行

多个线程下的 协程之间 是可以并行的


#### 协程 goroutine

协程是一个函数
协程是线程的轻量级的实现，可以看作是线程的子集。一个线程内部，又可以有多个协程。
协程不是系统级的执行单元，而是由线程去调度执行的。协程的调度由Golang的运行时系统完成。是代码层面的的调度。

协程之间是不能并行的，只能切换运行，同一时刻，只有协程在运行

作用：在执行A 函数时，可以随时中断，去执行B函数，然后中断B函数，去执行A函数（可以自动切换），这一切换过程并不是函数调用，过程很像线程，但是过程中只有一个携程在执行，一个线程内的多个协程是交替执行的


#### 总结

1. 协程既不是进程 也不是线程，只是一个特殊的函数 。协程 和 线程，进程  不是一个维度的
2. 一个进程可以包含多个线程，一个线程可以包含多个 协程
3. 虽然一个线程内的多个协程可以切换，但是这多个协程是串行执行的，某个时刻只有一个协程在运行，没法利用CPU的多核能力
4. 协程与进程一样，也存在上下问切换问题
5. 进程的切换者是操作系统，切换时机是操作系统自己的切换策略来决定的，用户是无法感知的，进程的切换内容包括页全局目录，内核栈和硬件上下文，切换内容被保存在内存中。进程切换过程采用“从用户态到内核态再到用户态”的方式，切换效率低
6. 线程的切换者是操作系统，切换时机是根据操作系统自己的切换策略来决定的，用户是无法感知的，线程的切换内容包括 内核栈 和 硬件上下文。线程切换被保存在内核栈中，线程切换过程采用的是“从用户态到内核态再到用户态”的方式，切换效率中
7. 协程的切换着是用户，切换时机是用户自己的程序来决定的，协程的切换内容是硬件上下文，切换内存被保存在用户自己的变量中，协程的切换只在用户态中进行，因此切换效率高。

